package src.utils{	import caurina.transitions.Tweener;	import net.fpp.common.starling.StaticAssetManager;	import starling.display.Image;	import starling.display.Sprite;	public class Pager extends Sprite	{		private const PAGE_IMAGE_OFFSET:uint = 15;		private var _pages:Vector.<Image> = new Vector.<Image>;		private var _selected:Image;		private var _currentPage:uint = 0;		public function Pager():void		{		}		public function init( pageCount:uint ):void		{			for( var i:uint = 0; i < pageCount; i++ )			{				_pages.push( addChild( new Image( StaticAssetManager.instance.getTexture( "pager_page" ) ) ) );				_pages[ i ].useHandCursor = true;				_pages[ i ].x = i * _pages[ 0 ].width + i * PAGE_IMAGE_OFFSET;			}			addChild( _selected = new Image( StaticAssetManager.instance.getTexture( "pager_selected" ) ) );			_selected.pivotX = _selected.width / 2;			_selected.pivotY = _selected.height / 2;			_selected.x = _pages[ 0 ].x + _pages[ 0 ].width / 2;			_selected.y = _pages[ 0 ].y + _pages[ 0 ].height / 2;		}		public function setPage( page:uint ):void		{			if( page == _currentPage )			{				return;			}			_currentPage = page;			Tweener.removeTweens( _selected );			Tweener.addTween( _selected, {time: .2, scaleX: .3, scaleY: .3, alpha: 0, onComplete: repositionPager} );		}		private function repositionPager():void		{			Tweener.removeTweens( _selected );			Tweener.addTween( _selected, {time: .3, scaleX: 1, scaleY: 1, alpha: 1, transition: "easeOutBack"} );			_selected.x = _pages[ _currentPage ].x + _pages[ _currentPage ].width / 2;			_selected.y = _pages[ _currentPage ].y + _pages[ _currentPage ].height / 2;		}		public function get currentPage():uint		{			return _currentPage;		}		override public function dispose():void		{			if( _selected )			{				Tweener.removeTweens( _selected );				removeChild( _selected, true );				_selected = null;				var length:uint = _pages.length;				for( var i:uint = 0; i < length; i++ )				{					removeChild( _pages[ i ], true );					_pages[ i ] = null;				}				_pages.length = 0;			}			super.dispose();		}	}}